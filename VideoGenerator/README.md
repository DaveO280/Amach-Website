# Automated Graeber Video Generator

Fully automated video generation pipeline that creates a professional video explaining Graeber's monetary theory and positioning Amach Health as a new paradigm.

## ğŸ¬ What This Does

Creates a ~2.5 minute video that:

1. Explains Graeber's critique of money's mythology
2. Shows how modern finance is abstracted from reality
3. Introduces blockchain as re-grounding value
4. Positions Amach as value moored to real health data

## ğŸš€ Quick Start

### Prerequisites

```bash
# Install Python dependencies
pip install -r requirements.txt --break-system-packages

# You'll need:
# - Venice AI API key (get from venice.ai)
# - Optional: ElevenLabs API key for voiceover
```

### Basic Usage (Asset Generation Only)

```bash
# Generate all images and videos
python generate_graeber_video.py --venice-api-key YOUR_VENICE_KEY
```

This will create:

- `/home/claude/graeber_video/assets/images/` - All still frames
- `/home/claude/graeber_video/assets/videos/` - Video clips
- `/home/claude/graeber_video/script.txt` - Full narration text
- `/home/claude/graeber_video/assembly_instructions.md` - Manual assembly guide

### Full Automated Assembly

```bash
# Generate assets AND assemble video
python generate_graeber_video_full.py \
  --venice-api-key YOUR_VENICE_KEY \
  --assemble \
  --output amach_vision.mp4

# If you already have voiceover audio:
python generate_graeber_video_full.py \
  --venice-api-key YOUR_VENICE_KEY \
  --assemble \
  --audio path/to/voiceover.mp3 \
  --output amach_vision.mp4
```

### Re-run Assembly Only (Skip API Calls)

```bash
# If you already generated assets and just want to re-assemble:
python generate_graeber_video_full.py \
  --venice-api-key dummy \
  --skip-assets \
  --assemble \
  --audio path/to/voiceover.mp3
```

## ğŸ“‹ Script Sections

The video has 16 carefully timed sections:

| Time | Section              | Type      | Description                       |
| ---- | -------------------- | --------- | --------------------------------- |
| 0:00 | Opening              | Image     | Ancient coins, dramatic           |
| 0:10 | The Myth             | Image     | Medieval barter illustration      |
| 0:18 | **Chicken Scene**    | **Video** | Comedic peasant/blacksmith barter |
| 0:23 | Graeber's Research   | Image     | Anthropological findings          |
| 0:35 | Money's Purpose      | Image     | Armies and taxes                  |
| 0:45 | Modern Abstraction   | Image     | Financial trading screens         |
| 0:57 | **Financial Glitch** | **Video** | Charts dissolving to static       |
| 1:00 | Participation        | Image     | People and smartphones            |
| 1:08 | Health Data Locked   | Image     | Scattered medical records         |
| 1:20 | Possibility          | Image     | Blockchain visualization          |
| 1:30 | **Order from Chaos** | **Video** | Crystallizing network             |
| 1:34 | Real Utility         | Image     | Human-centered tech               |
| 1:42 | Amach Introduction   | Image     | Amach platform                    |
| 1:54 | Better Services      | Image     | Cohort analysis                   |
| 2:06 | Full Circle          | Image     | Person with health data           |
| 2:18 | Closing              | Image     | Amach logo                        |

**Total Duration:** ~2:25 (145 seconds)

## ğŸ¨ Customization

### Modify the Script

Edit the `VIDEO_SCRIPT` array in either Python file:

```python
ScriptSection(
    title="Your Section",
    start_time=0,  # When it starts
    duration=10,   # How long it lasts
    narration="Your narration text",
    visual_type="image",  # or "video"
    prompt="Your AI generation prompt"
)
```

### Adjust Visual Style

Modify prompts to change aesthetic:

- **More serious:** Add "documentary style, authoritative"
- **More playful:** Add "vibrant colors, energetic"
- **More technical:** Add "technical diagrams, schematic"

### Change Video Models

In `VeniceAPIClient.generate_video()`:

- `wan-2.5` - Default, good quality
- `veo-3.1` - Higher quality (if available)
- `sora-2` - OpenAI's model (if available)

### Change Image Models

In `VeniceAPIClient.generate_image()`:

- `fluently-xl` - Default, fast
- `stable-diffusion-3.5` - Higher quality
- Check Venice docs for latest models

## ğŸ™ï¸ Voiceover Options

### Option 1: Manual Recording

1. Use `script.txt` generated by the tool
2. Record each section with precise timing
3. Export as MP3/WAV
4. Use with `--audio` flag

### Option 2: ElevenLabs (Recommended)

```python
# TODO: Integrate ElevenLabs API
# Add to generate_voiceover() function:
import requests

ELEVENLABS_API_KEY = "your_key"
voice_id = "21m00Tcm4TlvDq8ikWAM"  # Rachel voice

for section in script:
    response = requests.post(
        f"https://api.elevenlabs.io/v1/text-to-speech/{voice_id}",
        headers={"xi-api-key": ELEVENLABS_API_KEY},
        json={"text": section.narration}
    )
    # Save audio...
```

### Option 3: Local TTS

```bash
# Using pyttsx3 (offline, lower quality)
pip install pyttsx3
# Integrate into script
```

## ğŸ› ï¸ Troubleshooting

### "Video endpoint not found"

Venice video API may still be in beta. The script will automatically fall back to generating images for video sections. You can manually animate these later.

### Rate Limiting

The script includes 2-second delays between API calls. If you hit rate limits:

```python
time.sleep(5)  # Increase delay in generate_assets()
```

### Memory Issues

If moviepy runs out of memory:

```python
# In assemble_video_moviepy():
final_video.write_videofile(
    str(output_path),
    threads=2,  # Reduce from 4
    preset='ultrafast'  # Faster, larger file
)
```

### Missing Assets

If some assets fail to generate:

```bash
# Re-run just failed sections
python generate_graeber_video.py --venice-api-key KEY
# Check /home/claude/graeber_video/assets/ for gaps
```

## ğŸ“ Output Structure

```
/home/claude/graeber_video/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ 00_opening.png
â”‚   â”‚   â”œâ”€â”€ 01_the_myth.png
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ videos/
â”‚   â”‚   â”œâ”€â”€ 02_chicken_scene.mp4
â”‚   â”‚   â”œâ”€â”€ 06_financial_glitch.mp4
â”‚   â”‚   â””â”€â”€ 10_order_from_chaos.mp4
â”‚   â””â”€â”€ audio/
â”‚       â””â”€â”€ (your voiceover files)
â”œâ”€â”€ script.txt
â”œâ”€â”€ assembly_instructions.md
â””â”€â”€ amach_vision.mp4  (final output)
```

## ğŸ¬ Post-Production Tips

If you want to refine the auto-generated video:

1. **Import to DaVinci Resolve / Premiere:**
   - Use the timeline from `assembly_instructions.md`
   - Manually adjust transitions
   - Add color grading
   - Fine-tune audio sync

2. **Add Music:**
   - Use royalty-free background music
   - Keep it subtle (don't overpower narration)
   - Fade in/out at key moments

3. **Add Text Overlays:**
   - Key quotes from Graeber
   - "Amach Health" branding
   - URLs/CTAs at end

4. **Export Settings:**
   - Resolution: 1080p (1920x1080)
   - Frame rate: 30fps
   - Codec: H.264
   - Bitrate: 8-10 Mbps

## ğŸ’¡ Extension Ideas

### Add Subtitles

```python
# Use moviepy TextClip
from moviepy.editor import TextClip

subtitle = TextClip(
    section.narration,
    fontsize=40,
    color='white',
    stroke_color='black',
    stroke_width=2
).set_duration(section.duration)
```

### Dynamic Transitions

```python
# Replace crossfade with custom transitions
from moviepy.video.compositing.transitions import slide_in, slide_out
```

### Interactive Elements

Export with chapter markers for platforms that support them.

## ğŸ“„ License

This is a tool for Amach Health. Modify as needed for your use case.

## ğŸ¤ Contributing

This is a starting point. Feel free to:

- Add better error handling
- Implement ElevenLabs integration
- Add more transition effects
- Improve video quality settings

## ğŸ“ Support

If you run into issues:

1. Check Venice AI docs: https://docs.venice.ai
2. Verify API key permissions
3. Check available inference credits

---

**Built for the Graeberian revolution in value systems. ğŸš€**
